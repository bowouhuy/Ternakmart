(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53f9c0f7"],{"0e8f":function(t,e,a){"use strict";a("20f6");var r=a("e8f2");e["a"]=Object(r["a"])("flex")},"9fc6":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AppBar",{attrs:{page:t.page}}),a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-0 mt-10"},[a("v-card-text",[a("v-form",{attrs:{id:"register"},on:{submit:function(e){return e.preventDefault(),t.pemesanan(e)}}},[a("v-text-field",{attrs:{"append-icon":"mdi-account",label:"Nama Penerima",type:"text"},model:{value:t.order.nama_penerima,callback:function(e){t.$set(t.order,"nama_penerima",e)},expression:"order.nama_penerima"}}),a("v-select",{attrs:{items:t.provinces,"item-text":"province","item-value":"province_id",label:"Provinsi","append-outer-icon":"mdi-map"},on:{change:t.getkotabyidProv},model:{value:t.order.province_id,callback:function(e){t.$set(t.order,"province_id",e)},expression:"order.province_id"}}),a("v-select",{attrs:{items:t.cities,"item-text":"city_name","item-value":"city_id",label:"Kabupaten/Kota","append-outer-icon":"mdi-map"},on:{change:t.gethargaOngkir},model:{value:t.order.city_id,callback:function(e){t.$set(t.order,"city_id",e)},expression:"order.city_id"}}),a("v-text-field",{attrs:{"append-icon":"mdi-map-marker",label:"Alamat",type:"text"},model:{value:t.order.detail_alamat,callback:function(e){t.$set(t.order,"detail_alamat",e)},expression:"order.detail_alamat"}}),a("v-text-field",{attrs:{"append-icon":"mdi-note",label:"Note to Driver",type:"text"},model:{value:t.order.transaksi_note,callback:function(e){t.$set(t.order,"transaksi_note",e)},expression:"order.transaksi_note"}}),a("v-text-field",{attrs:{"append-icon":"mdi-dollar",label:"Harga Ongkir",type:"text",readonly:""},model:{value:t.harga_ongkir,callback:function(e){t.harga_ongkir=e},expression:"harga_ongkir"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"white--text font-weight-bold",attrs:{type:"submit",color:"#139CA4",block:"",form:"register"}},[t._v(" Save ")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"white--text font-weight-bold",attrs:{type:"submit",color:"red",block:"",outlined:"",form:"register"}},[t._v(" Remove ")])],1)],1)],1)],1)],1)],1)],1)},i=[],n=(a("b0c0"),a("dd38")),o=a("bc3a"),s=a.n(o),c={components:{AppBar:n["a"]},data:function(){return{page:{link:"/detail/"+this.$route.params.id,title:"Add Address"},ternak:{},order:{},parameter:{},profile:[],cities:[],provinces:[],costData:{},distance:"",harga_ongkir:""}},methods:{setProfile:function(t){this.profile=t},setTernak:function(t){this.ternak=t},pemesanan:function(){var t=this;this.order.id_ternak=this.ternak.id,this.order.id_user=this.$store.state.auth.user.id,this.order.ternak_harga=this.ternak.ternak_harga,this.order.masa_perawatan=12,this.order.total_harga=80*this.ternak.ternak_harga,this.order.transaksi_st="cart",this.order.order_id="ORDER-"+(new Date).getTime(),this.order.origin_id=this.ternak.city_id,this.order.destination_id=472,this.order.distance=this.distance,this.order.harga_ongkir=this.harga_ongkir,this.parameter.order_id=this.order.order_id,this.parameter.gross_amount=this.order.total_harga,this.parameter.name=this.profile.name,this.parameter.email=this.profile.email,this.parameter.phone="089602015445",this.costData.origin=this.ternak.city_id,this.costData.destination=this.order.destination_id,this.costData.weight=800,this.costData.courier="jne",console.log(this.costData),s.a.post("transaksi",this.order).then((function(){t.$router.push({path:"/cart"}),t.$toast.success("Sukses Masuk Keranjang",{type:"success",position:"top-right",duration:3e3,dismissible:!0})})).catch((function(t){return console.log(t)}))},getkotabyidProv:function(){var t=this;s.a.get("lokasi/kota/"+this.order.province_id).then((function(e){t.cities=e.data.kota})).catch((function(t){return console.log(t)}))},gethargaOngkir:function(){var t=this;s.a.get("lokasi/kota/"+this.order.city_id+"/detail").then((function(e){var a=e.data.kota.latitude+","+e.data.kota.longitude,r=t.ternak.latitude+","+t.ternak.longitude;s.a.get("https://distance-calculator.p.rapidapi.com/v1/one_to_one?start_point="+a+"&end_point="+r+"&unit=kilometers",{headers:{"x-rapidapi-key":"38066ec1d5msh0c6db7b7abef6cap10f235jsn47d20ec77887","x-rapidapi-host":"distance-calculator.p.rapidapi.com",useQueryString:"true"}}).then((function(e){t.distance=Math.round(e.data.distance),t.harga_ongkir=5620*Math.round(e.data.distance)}))})).catch((function(t){return console.log(t)}))}},mounted:function(){var t=this;this.setProfile(this.$store.state.auth.user),s.a.get("ternak/"+this.$route.params.id).then((function(e){return t.setTernak(e.data.ternak)})).catch((function(t){return console.log(t)}))},created:function(){var t=this;s.a.get("lokasi/provinsi").then((function(e){t.provinces=e.data.provinsi})).catch((function(t){return console.log(t)}))}},d=c,l=a("2877"),u=a("6544"),p=a.n(u),h=a("8336"),m=a("b0af"),f=a("99d9"),v=a("62ad"),g=a("a523"),k=a("0e8f"),_=a("4bd4"),b=a("a722"),x=a("0fd9"),y=a("b974"),w=a("8654"),V=Object(l["a"])(d,r,i,!1,null,"8fff4a84",null);e["default"]=V.exports;p()(V,{VBtn:h["a"],VCard:m["a"],VCardText:f["c"],VCol:v["a"],VContainer:g["a"],VFlex:k["a"],VForm:_["a"],VLayout:b["a"],VRow:x["a"],VSelect:y["a"],VTextField:w["a"]})},a722:function(t,e,a){"use strict";a("20f6");var r=a("e8f2");e["a"]=Object(r["a"])("layout")},dd38:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app-bar",{attrs:{absolute:"",color:"white"}},[a("v-btn",{attrs:{icon:"",color:"teal",to:t.page.link}},[a("v-icon",[t._v("mdi-chevron-left")])],1),a("span",{staticClass:"title font-weight-bold text-center mx-auto"},[t._v(t._s(t.page.title))])],1)},i=[],n={props:{page:{type:Object,required:!0}}},o=n,s=a("2877"),c=a("6544"),d=a.n(c),l=a("40dc"),u=a("8336"),p=a("132d"),h=Object(s["a"])(o,r,i,!1,null,null,null);e["a"]=h.exports;d()(h,{VAppBar:l["a"],VBtn:u["a"],VIcon:p["a"]})}}]);
//# sourceMappingURL=chunk-53f9c0f7.4b9e8a27.js.map